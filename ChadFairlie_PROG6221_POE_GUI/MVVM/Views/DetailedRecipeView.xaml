<UserControl x:Class="ChadFairlie_PROG6221_POE_GUI.MVVM.Views.DetailedRecipeView"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			 xmlns:local="clr-namespace:ChadFairlie_PROG6221_POE_GUI.MVVM.Views"
			 xmlns:converters="clr-namespace:ChadFairlie_PROG6221_POE_GUI.Converters"
			 xmlns:designData="clr-namespace:ChadFairlie_PROG6221_POE_GUI.DesignData"
			 d:DataContext="{d:DesignInstance designData:DesignTimeDetailedRecipeViewModel, IsDesignTimeCreatable=True}"
			 mc:Ignorable="d"
			 d:DesignHeight="725"
			 d:DesignWidth="930">

	<UserControl.Resources>
		<converters:ResourceKeyConverter x:Key="ResourceKeyConverter" />
		<converters:BooleanToTextDecorationConverter x:Key="BooleanToTextDecorationConverter" />
	</UserControl.Resources>

	<Grid Margin="10">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto" />
			<RowDefinition Height="Auto" />
			<RowDefinition Height="Auto" />
			<RowDefinition Height="*" />
			<RowDefinition Height="Auto" />
			<RowDefinition Height="Auto" />
		</Grid.RowDefinitions>

		<!-- Recipe Title -->
		<TextBlock Text="{Binding RecipeName}"
				   Grid.Row="0"
				   FontSize="26"
				   FontWeight="Bold"
				   Foreground="White"
				   Margin="0,0,0,10" />

		<!-- Current Scale -->
		<TextBlock Text="{Binding CurrentScale, StringFormat='Current Scale: {0}x'}"
				   Grid.Row="1"
				   FontSize="16"
				   Foreground="White"
				   Margin="0,0,0,10">
		</TextBlock>

		<!-- Ingredients List with Background -->
		<StackPanel Grid.Row="2"
					Margin="0,10,0,10"
					Background="{Binding BackgroundGradient, Converter={StaticResource ResourceKeyConverter}}">
			<TextBlock Text="Ingredients:"
					   FontSize="20"
					   FontWeight="Bold"
					   Foreground="White"
					   Margin="0,0,0,10" />
			<ItemsControl ItemsSource="{Binding Ingredients}">
				<ItemsControl.ItemTemplate>
					<DataTemplate>
						<TextBlock Text="{Binding}"
								   FontSize="16"
								   Foreground="White"
								   Margin="5" />
					</DataTemplate>
				</ItemsControl.ItemTemplate>
			</ItemsControl>
		</StackPanel>

		<!-- Total Calories -->
		<TextBlock Text="{Binding TotalCalories, StringFormat='Total Calories: {0:F0} kcal'}"
				   Grid.Row="3"
				   FontSize="16"
				   Foreground="White"
				   Margin="0,0,0,10">
		</TextBlock>

		<!-- Steps List with Checkboxes -->
		<StackPanel Grid.Row="4"
					Margin="0,10,0,20"
					Background="{Binding BackgroundGradient, Converter={StaticResource ResourceKeyConverter}}">
			<TextBlock Text="Steps:"
					   FontSize="20"
					   FontWeight="Bold"
					   Foreground="White"
					   Margin="0,0,0,10" />
			<ItemsControl ItemsSource="{Binding Steps}">
				<ItemsControl.ItemTemplate>
					<DataTemplate>
						<StackPanel Orientation="Horizontal"
									Margin="5">
							<CheckBox IsChecked="{Binding IsCompleted}"
									  Content="{Binding Description}"
									  FontSize="16"
									  Foreground="White"
									  VerticalAlignment="Center">
								<CheckBox.Style>
									<Style TargetType="CheckBox">
										<Setter Property="Template">
											<Setter.Value>
												<ControlTemplate TargetType="CheckBox">
													<StackPanel Orientation="Horizontal">
														<BulletDecorator Background="White"
																		 Width="16"
																		 Height="16"
																		 Margin="0,0,5,0">
															<BulletDecorator.Bullet>
																<Ellipse x:Name="CheckMark"
																		 Stroke="White"
																		 StrokeThickness="0"
																		 Fill="Transparent"
																		 Width="16"
																		 Height="16" />
															</BulletDecorator.Bullet>
														</BulletDecorator>
														<TextBlock Text="{TemplateBinding Content}"
																   VerticalAlignment="Center"
																   TextDecorations="{TemplateBinding IsChecked, Converter={StaticResource BooleanToTextDecorationConverter}}" />
													</StackPanel>
													<ControlTemplate.Triggers>
														<Trigger Property="IsChecked"
																 Value="True">
															<Setter TargetName="CheckMark"
																	Property="Fill"
																	Value="Black" />
														</Trigger>
													</ControlTemplate.Triggers>
												</ControlTemplate>
											</Setter.Value>
										</Setter>
									</Style>
								</CheckBox.Style>
							</CheckBox>
						</StackPanel>
					</DataTemplate>
				</ItemsControl.ItemTemplate>
			</ItemsControl>
		</StackPanel>

		<!-- Recipe Scaling Options with Buttons -->
		<StackPanel Grid.Row="5"
					Orientation="Horizontal"
					HorizontalAlignment="Left"
					Margin="0,10,0,0">
			<Button Content="Scale by 0.5"
					Command="{Binding ScaleCommand}"
					CommandParameter="0.5"
					Style="{StaticResource CardButton}"
					Width="140"
					Height="40"
					Margin="5"
					Cursor="Hand" />
			<Button Content="Scale by 2"
					Command="{Binding ScaleCommand}"
					CommandParameter="2"
					Style="{StaticResource CardButton}"
					Width="140"
					Height="40"
					Margin="5"
					Cursor="Hand" />
			<Button Content="Scale by 3"
					Command="{Binding ScaleCommand}"
					CommandParameter="3"
					Style="{StaticResource CardButton}"
					Width="140"
					Height="40"
					Margin="5"
					Cursor="Hand" />
			<Button Content="Custom Scale"
					Command="{Binding CustomScaleCommand}"
					Style="{StaticResource CardButton}"
					Width="140"
					Height="40"
					Margin="5"
					Cursor="Hand" />
			<Button Content="Reset Scale"
					Command="{Binding ResetScaleCommand}"
					Style="{StaticResource CardButton}"
					Width="140"
					Height="40"
					Margin="5"
					Cursor="Hand" />
		</StackPanel>
	</Grid>
</UserControl>